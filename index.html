<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prometheus Client Library for Modern C++: Prometheus Client Library for Modern C++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Prometheus Client Library for Modern C++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Prometheus Client Library for Modern C++ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/jupp0r/prometheus-cpp/actions?workflow=Continuous+Integration"><object type="image/svg+xml" data="https://github.com/jupp0r/prometheus-cpp/workflows/Continuous%20Integration/badge.svg" style="pointer-events: none;">CI Status</object></a> <a href="https://travis-ci.org/jupp0r/prometheus-cpp"><object type="image/svg+xml" data="https://travis-ci.org/jupp0r/prometheus-cpp.svg?branch=master" style="pointer-events: none;">Travis Status</object></a> <a href="https://coveralls.io/github/jupp0r/prometheus-cpp?branch=master"><object type="image/svg+xml" data="https://coveralls.io/repos/github/jupp0r/prometheus-cpp/badge.svg?branch=master" style="pointer-events: none;">Coverage Status</object></a> <a href="https://scan.coverity.com/projects/jupp0r-prometheus-cpp"><object type="image/svg+xml" data="https://scan.coverity.com/projects/10567/badge.svg" style="pointer-events: none;">Coverity Scan</object></a></p>
<p>This library aims to enable <a href="https://sookocheff.com/post/mdd/mdd/">Metrics-Driven Development</a> for C++ services. It implements the <a href="https://prometheus.io/docs/concepts/data_model/">Prometheus Data Model</a>, a powerful abstraction on which to collect and expose metrics. We offer the possibility for metrics to be collected by Prometheus, but other push/pull collections can be added as plugins.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Usage</h1>
<p>See <a href="https://jupp0r.github.io/prometheus-cpp">https://jupp0r.github.io/prometheus-cpp</a> for more detailed interface documentation.</p>
<div class="fragment"><div class="line">#include &lt;prometheus/counter.h&gt;</div>
<div class="line">#include &lt;prometheus/exposer.h&gt;</div>
<div class="line">#include &lt;prometheus/registry.h&gt;</div>
<div class="line"> </div>
<div class="line">#include &lt;array&gt;</div>
<div class="line">#include &lt;chrono&gt;</div>
<div class="line">#include &lt;cstdlib&gt;</div>
<div class="line">#include &lt;memory&gt;</div>
<div class="line">#include &lt;string&gt;</div>
<div class="line">#include &lt;thread&gt;</div>
<div class="line"> </div>
<div class="line">int main() {</div>
<div class="line">  using namespace prometheus;</div>
<div class="line"> </div>
<div class="line">  // create an http server running on port 8080</div>
<div class="line">  Exposer exposer{&quot;127.0.0.1:8080&quot;};</div>
<div class="line"> </div>
<div class="line">  // create a metrics registry</div>
<div class="line">  // @note it&#39;s the users responsibility to keep the object alive</div>
<div class="line">  auto registry = std::make_shared&lt;Registry&gt;();</div>
<div class="line"> </div>
<div class="line">  // add a new counter family to the registry (families combine values with the</div>
<div class="line">  // same name, but distinct label dimensions)</div>
<div class="line">  //</div>
<div class="line">  // @note please follow the metric-naming best-practices:</div>
<div class="line">  // https://prometheus.io/docs/practices/naming/</div>
<div class="line">  auto&amp; packet_counter = BuildCounter()</div>
<div class="line">                             .Name(&quot;observed_packets_total&quot;)</div>
<div class="line">                             .Help(&quot;Number of observed packets&quot;)</div>
<div class="line">                             .Register(*registry);</div>
<div class="line"> </div>
<div class="line">  // add and remember dimensional data, incrementing those is very cheap</div>
<div class="line">  auto&amp; tcp_rx_counter =</div>
<div class="line">      packet_counter.Add({{&quot;protocol&quot;, &quot;tcp&quot;}, {&quot;direction&quot;, &quot;rx&quot;}});</div>
<div class="line">  auto&amp; tcp_tx_counter =</div>
<div class="line">      packet_counter.Add({{&quot;protocol&quot;, &quot;tcp&quot;}, {&quot;direction&quot;, &quot;tx&quot;}});</div>
<div class="line">  auto&amp; udp_rx_counter =</div>
<div class="line">      packet_counter.Add({{&quot;protocol&quot;, &quot;udp&quot;}, {&quot;direction&quot;, &quot;rx&quot;}});</div>
<div class="line">  auto&amp; udp_tx_counter =</div>
<div class="line">      packet_counter.Add({{&quot;protocol&quot;, &quot;udp&quot;}, {&quot;direction&quot;, &quot;tx&quot;}});</div>
<div class="line"> </div>
<div class="line">  // add a counter whose dimensional data is not known at compile time</div>
<div class="line">  // nevertheless dimensional values should only occur in low cardinality:</div>
<div class="line">  // https://prometheus.io/docs/practices/naming/#labels</div>
<div class="line">  auto&amp; http_requests_counter = BuildCounter()</div>
<div class="line">                                    .Name(&quot;http_requests_total&quot;)</div>
<div class="line">                                    .Help(&quot;Number of HTTP requests&quot;)</div>
<div class="line">                                    .Register(*registry);</div>
<div class="line"> </div>
<div class="line">  // ask the exposer to scrape the registry on incoming HTTP requests</div>
<div class="line">  exposer.RegisterCollectable(registry);</div>
<div class="line"> </div>
<div class="line">  for (;;) {</div>
<div class="line">    std::this_thread::sleep_for(std::chrono::seconds(1));</div>
<div class="line">    const auto random_value = std::rand();</div>
<div class="line"> </div>
<div class="line">    if (random_value &amp; 1) tcp_rx_counter.Increment();</div>
<div class="line">    if (random_value &amp; 2) tcp_tx_counter.Increment();</div>
<div class="line">    if (random_value &amp; 4) udp_rx_counter.Increment();</div>
<div class="line">    if (random_value &amp; 8) udp_tx_counter.Increment();</div>
<div class="line"> </div>
<div class="line">    const std::array&lt;std::string, 4&gt; methods = {&quot;GET&quot;, &quot;PUT&quot;, &quot;POST&quot;, &quot;HEAD&quot;};</div>
<div class="line">    auto method = methods.at(random_value % methods.size());</div>
<div class="line">    // dynamically calling Family&lt;T&gt;.Add() works but is slow and should be</div>
<div class="line">    // avoided</div>
<div class="line">    http_requests_counter.Add({{&quot;method&quot;, method}}).Increment();</div>
<div class="line">  }</div>
<div class="line">  return 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2"></a>
Requirements</h1>
<p>Using <code>prometheus-cpp</code> requires a C++11 compliant compiler. It has been successfully tested with GNU GCC 4.8 on Ubuntu Trusty and Visual Studio 2017 (but Visual Studio 2015 should work, too).</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Building</h1>
<p>There are two supported ways to build <code>prometheus-cpp</code> - <a href="https://cmake.org">CMake</a> and <a href="https://bazel.io">bazel</a>. Both are tested in CI and should work on master and for all releases.</p>
<p>In case these instructions don't work for you, looking at the <a href=".travis.yml">travis build script</a> might help.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
via CMake</h2>
<p>For CMake builds don't forget to fetch the submodules first. Then build as usual.</p>
<div class="fragment"><div class="line"># fetch third-party dependencies</div>
<div class="line">git submodule init</div>
<div class="line">git submodule update</div>
<div class="line"> </div>
<div class="line">mkdir _build</div>
<div class="line">cd _build</div>
<div class="line"> </div>
<div class="line"># run cmake</div>
<div class="line">cmake .. -DBUILD_SHARED_LIBS=ON # or OFF for static libraries</div>
<div class="line"> </div>
<div class="line"># build</div>
<div class="line">make -j 4</div>
<div class="line"> </div>
<div class="line"># run tests</div>
<div class="line">ctest -V</div>
<div class="line"> </div>
<div class="line"># install the libraries and headers</div>
<div class="line">mkdir -p deploy</div>
<div class="line">make DESTDIR=`pwd`/deploy install</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5"></a>
via Bazel</h2>
<p>Install <a href="https://www.bazel.io">bazel</a>. Bazel makes it easy to add this repo to your project as a dependency. Just add the following to your <code>WORKSPACE</code>:</p>
<div class="fragment"><div class="line">load(&quot;@bazel_tools//tools/build_defs/repo:http.bzl&quot;, &quot;http_archive&quot;, &quot;http_file&quot;)</div>
<div class="line">http_archive(</div>
<div class="line">    name = &quot;com_github_jupp0r_prometheus_cpp&quot;,</div>
<div class="line">    strip_prefix = &quot;prometheus-cpp-master&quot;,</div>
<div class="line">    urls = [&quot;https://github.com/jupp0r/prometheus-cpp/archive/master.zip&quot;],</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line">load(&quot;@com_github_jupp0r_prometheus_cpp//bazel:repositories.bzl&quot;, &quot;prometheus_cpp_repositories&quot;)</div>
<div class="line"> </div>
<div class="line">prometheus_cpp_repositories()</div>
</div><!-- fragment --><p>Then, you can reference this library in your own <code>BUILD</code> file, as demonstrated with the sample server included in this repository:</p>
<div class="fragment"><div class="line">cc_binary(</div>
<div class="line">    name = &quot;sample_server&quot;,</div>
<div class="line">    srcs = [&quot;sample_server.cc&quot;],</div>
<div class="line">    deps = [&quot;@com_github_jupp0r_prometheus_cpp//pull&quot;],</div>
<div class="line">)</div>
</div><!-- fragment --><p>When you call <code>prometheus_cpp_repositories()</code> in your <code>WORKSPACE</code> file, you load the following dependencies, if they do not exist yet, into your project:</p>
<ul>
<li><code>civetweb</code> for <a href="https://github.com/civetweb/civetweb">Civetweb</a></li>
<li><code>com_google_googletest</code> for <a href="https://github.com/google/googletest">Google Test</a></li>
<li><code>com_github_google_benchmark</code> for <a href="https://github.com/google/benchmark">Google Benchmark</a></li>
<li><code>com_github_curl</code> for <a href="https://curl.haxx.se/">curl</a></li>
<li><code>net_zlib_zlib</code> for <a href="http://www.zlib.net/">zlib</a></li>
</ul>
<p>The list of dependencies is also available from file <a href="bazel/repositories.bzl">repositories.bzl</a>.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Packaging</h1>
<p>By configuring CPack you can generate an installer like a Debian package (.deb) or RPM (.rpm) for the static or dynamic libraries so they can be easily installed on other systems.</p>
<p>Please refer to the <a href="https://cmake.org/cmake/help/latest/module/CPack.html">CPack</a> documentation for all available generators and their configuration options.</p>
<p>To generate a Debian package you could follow these steps:</p>
<div class="fragment"><div class="line"># fetch third-party dependencies</div>
<div class="line">git submodule update --init</div>
<div class="line"> </div>
<div class="line"># run cmake</div>
<div class="line">cmake -B_build -DCPACK_GENERATOR=DEB -DBUILD_SHARED_LIBS=ON # or OFF for static libraries</div>
<div class="line"> </div>
<div class="line"># build and package</div>
<div class="line">cmake --build _build --target package --parallel $(nproc)</div>
</div><!-- fragment --><p>This will place an appropriately named .deb in the <code>_build</code> folder. To build a RPM package set the <code>CPACK_GENERATOR</code> variable to <code>RPM</code>.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Consuming the installed project</h1>
<h2><a class="anchor" id="autotoc_md8"></a>
CMake</h2>
<p>Consuming prometheus-cpp via CMake is the preferred way because all the dependencies between the three prometheus-cpp libraries are handled correctly.</p>
<p>The <code>cmake/project-import</code> directory contains an example project and minimal <a href="cmake/project-import/CMakeLists.txt">CMakeLists.txt</a>.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
vcpkg</h2>
<p>The <a href="https://github.com/microsoft/vcpkg">vcpkg</a> package manager contains a prometheus-cpp port which has been tested on Linux, macOS, and Windows.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Conan</h2>
<p><a href="https://conan.io/">Conan</a> package manager contains prometheus-cpp package as well in <a href="https://conan.io/center/prometheus-cpp">ConanCenter</a> repository</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Plain Makefiles</h2>
<p>When manually linking prometheus-cpp the library order matters. The needed libraries depend on the individual use case but the following should work for the pull metrics approach:</p>
<div class="fragment"><div class="line">-lprometheus-cpp-pull -lprometheus-cpp-core -lz</div>
</div><!-- fragment --><p>For the push-workflow please try:</p>
<div class="fragment"><div class="line">-lprometheus-cpp-push -lprometheus-cpp-core -lcurl -lz</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md12"></a>
Contributing</h1>
<p>Please adhere to the <a href="https://google.github.io/styleguide/cppguide.html">Google C++ Style Guide</a>. Make sure to clang-format your patches before opening a PR. Also make sure to adhere to <a href="https://chris.beams.io/posts/git-commit/">these commit message guidelines</a>.</p>
<p>You can check out this repo and build the library using </p><div class="fragment"><div class="line">bazel build //...           # build everything</div>
<div class="line">bazel build //core //pull   # build just the libraries</div>
</div><!-- fragment --><p>Run the unit tests using </p><div class="fragment"><div class="line">bazel test //...</div>
</div><!-- fragment --><p>There is also an integration test that uses <a href="https://github.com/influxdata/telegraf">telegraf</a> to scrape a sample server. With telegraf installed, it can be run using </p><div class="fragment"><div class="line">bazel test //pull/tests/integration:scrape-test</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md13"></a>
Benchmarks</h1>
<p>There's a benchmark suite you can run:</p>
<div class="fragment"><div class="line">bazel run -c opt //core/benchmarks</div>
<div class="line"> </div>
<div class="line">INFO: Analysed target //core/benchmarks:benchmarks (0 packages loaded, 0 targets configured).</div>
<div class="line">INFO: Found 1 target...</div>
<div class="line">Target //core/benchmarks:benchmarks up-to-date:</div>
<div class="line">  bazel-bin/core/benchmarks/benchmarks</div>
<div class="line">INFO: Elapsed time: 0.356s, Critical Path: 0.01s, Remote (0.00% of the time): [queue: 0.00%, setup: 0.00%, process: 0.00%]</div>
<div class="line">INFO: 0 processes.</div>
<div class="line">INFO: Build completed successfully, 1 total action</div>
<div class="line">INFO: Build completed successfully, 1 total action</div>
<div class="line">2018-11-30 15:13:14</div>
<div class="line">Run on (4 X 2200 MHz CPU s)</div>
<div class="line">CPU Caches:</div>
<div class="line">  L1 Data 32K (x2)</div>
<div class="line">  L1 Instruction 32K (x2)</div>
<div class="line">  L2 Unified 262K (x2)</div>
<div class="line">  L3 Unified 4194K (x1)</div>
<div class="line">-----------------------------------------------------------------------------------</div>
<div class="line">Benchmark                                            Time           CPU Iterations</div>
<div class="line">-----------------------------------------------------------------------------------</div>
<div class="line">BM_Counter_Increment                                13 ns         12 ns   55616469</div>
<div class="line">BM_Counter_Collect                                   7 ns          7 ns   99823170</div>
<div class="line">BM_Gauge_Increment                                  12 ns         12 ns   51511873</div>
<div class="line">BM_Gauge_Decrement                                  12 ns         12 ns   56831098</div>
<div class="line">BM_Gauge_SetToCurrentTime                          184 ns        183 ns    3928964</div>
<div class="line">BM_Gauge_Collect                                     6 ns          6 ns  117223478</div>
<div class="line">BM_Histogram_Observe/0                             134 ns        124 ns    5665310</div>
<div class="line">BM_Histogram_Observe/1                             122 ns        120 ns    5937185</div>
<div class="line">BM_Histogram_Observe/8                             137 ns        135 ns    4652863</div>
<div class="line">BM_Histogram_Observe/64                            143 ns        143 ns    4835957</div>
<div class="line">BM_Histogram_Observe/512                           259 ns        257 ns    2334750</div>
<div class="line">BM_Histogram_Observe/4096                         1545 ns       1393 ns     620754</div>
<div class="line">BM_Histogram_Collect/0                             103 ns        102 ns    5654829</div>
<div class="line">BM_Histogram_Collect/1                             100 ns        100 ns    7015153</div>
<div class="line">BM_Histogram_Collect/8                             608 ns        601 ns    1149652</div>
<div class="line">BM_Histogram_Collect/64                           1438 ns       1427 ns     515236</div>
<div class="line">BM_Histogram_Collect/512                          5178 ns       5159 ns     114619</div>
<div class="line">BM_Histogram_Collect/4096                        33527 ns      33280 ns      20785</div>
<div class="line">BM_Registry_CreateFamily                           320 ns        316 ns    2021567</div>
<div class="line">BM_Registry_CreateCounter/0                        128 ns        128 ns    5487140</div>
<div class="line">BM_Registry_CreateCounter/1                       2066 ns       2058 ns     386002</div>
<div class="line">BM_Registry_CreateCounter/8                       7672 ns       7634 ns      91328</div>
<div class="line">BM_Registry_CreateCounter/64                     63270 ns      62761 ns      10780</div>
<div class="line">BM_Registry_CreateCounter/512                   560714 ns     558328 ns       1176</div>
<div class="line">BM_Registry_CreateCounter/4096                18672798 ns   18383000 ns         35</div>
<div class="line">BM_Summary_Observe/0/iterations:262144            9351 ns       9305 ns     262144</div>
<div class="line">BM_Summary_Observe/1/iterations:262144            9242 ns       9169 ns     262144</div>
<div class="line">BM_Summary_Observe/8/iterations:262144           14344 ns      14195 ns     262144</div>
<div class="line">BM_Summary_Observe/64/iterations:262144          19176 ns      18950 ns     262144</div>
<div class="line">BM_Summary_Collect/0/0                              31 ns         30 ns   24873766</div>
<div class="line">BM_Summary_Collect/1/0                             166 ns        166 ns    4266706</div>
<div class="line">BM_Summary_Collect/8/0                            1040 ns       1036 ns     660527</div>
<div class="line">BM_Summary_Collect/64/0                           4529 ns       4489 ns     155600</div>
<div class="line">BM_Summary_Collect/0/1                              28 ns         28 ns   24866697</div>
<div class="line">BM_Summary_Collect/1/1                             190 ns        188 ns    3930354</div>
<div class="line">BM_Summary_Collect/8/1                            1372 ns       1355 ns     535779</div>
<div class="line">BM_Summary_Collect/64/1                           9901 ns       9822 ns      64632</div>
<div class="line">BM_Summary_Collect/0/8                              29 ns         29 ns   24922651</div>
<div class="line">BM_Summary_Collect/1/8                             217 ns        215 ns    3278381</div>
<div class="line">BM_Summary_Collect/8/8                            2275 ns       2256 ns     282503</div>
<div class="line">BM_Summary_Collect/64/8                          56790 ns      55804 ns      13878</div>
<div class="line">BM_Summary_Collect/0/64                             32 ns         31 ns   22548350</div>
<div class="line">BM_Summary_Collect/1/64                            395 ns        389 ns    1817073</div>
<div class="line">BM_Summary_Collect/8/64                          10187 ns      10064 ns      71928</div>
<div class="line">BM_Summary_Collect/64/64                        374835 ns     373560 ns       1812</div>
<div class="line">BM_Summary_Collect/0/512                            28 ns         28 ns   25234228</div>
<div class="line">BM_Summary_Collect/1/512                          1710 ns       1639 ns     802285</div>
<div class="line">BM_Summary_Collect/8/512                         50355 ns      49335 ns      15975</div>
<div class="line">BM_Summary_Collect/64/512                      2520972 ns    2493417 ns        295</div>
<div class="line">BM_Summary_Collect/0/4096                           31 ns         31 ns   24059034</div>
<div class="line">BM_Summary_Collect/1/4096                         2719 ns       2698 ns     286186</div>
<div class="line">BM_Summary_Collect/8/4096                       121689 ns     119995 ns       5647</div>
<div class="line">BM_Summary_Collect/64/4096                     5660131 ns    5587634 ns        134</div>
<div class="line">BM_Summary_Collect/0/32768                          29 ns         29 ns   22217567</div>
<div class="line">BM_Summary_Collect/1/32768                        4344 ns       4294 ns     138135</div>
<div class="line">BM_Summary_Collect/8/32768                      331563 ns     326403 ns       2017</div>
<div class="line">BM_Summary_Collect/64/32768                   16363553 ns   16038182 ns         44</div>
<div class="line">BM_Summary_Collect/0/262144                         27 ns         27 ns   23923036</div>
<div class="line">BM_Summary_Collect/1/262144                      10457 ns      10332 ns      67690</div>
<div class="line">BM_Summary_Collect/8/262144                     930434 ns     869234 ns        792</div>
<div class="line">BM_Summary_Collect/64/262144                  39217069 ns   39054846 ns         13</div>
<div class="line">BM_Summary_Observe_Common/iterations:262144       5587 ns       5557 ns     262144</div>
<div class="line">BM_Summary_Collect_Common/0                        676 ns        673 ns    1054630</div>
<div class="line">BM_Summary_Collect_Common/1                        709 ns        705 ns     990659</div>
<div class="line">BM_Summary_Collect_Common/8                       1030 ns       1025 ns     685649</div>
<div class="line">BM_Summary_Collect_Common/64                      2066 ns       2055 ns     339969</div>
<div class="line">BM_Summary_Collect_Common/512                     5754 ns       5248 ns     156895</div>
<div class="line">BM_Summary_Collect_Common/4096                   23894 ns      23292 ns      31096</div>
<div class="line">BM_Summary_Collect_Common/32768                  49831 ns      49292 ns      13492</div>
<div class="line">BM_Summary_Collect_Common/262144                128723 ns     126987 ns       5579</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md14"></a>
Project Status</h1>
<p>Beta, getting ready for 1.0. The library is pretty stable and used in production. There are some small breaking API changes that might happen before 1.0 Parts of the library are instrumented by itself (bytes scraped, number of scrapes, scrape request latencies). There is a working <a href="pull/tests/integration/sample_server.cc">example</a> that's scraped by telegraf as part of integration tests.</p>
<h1><a class="anchor" id="autotoc_md15"></a>
FAQ</h1>
<h2><a class="anchor" id="autotoc_md16"></a>
What scrape formats do you support</h2>
<p>Only the <a href="https://github.com/prometheus/docs/blob/master/content/docs/instrumenting/exposition_formats.md#text-format-details">Prometheus Text Exposition Format</a>. Support for the protobuf format was removed because it's been removed from Prometheus 2.0.</p>
<h1><a class="anchor" id="autotoc_md17"></a>
License</h1>
<p>MIT </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
